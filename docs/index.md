# 资深 Java 工程师面试知识点清单（含重要度评分 - 增强版）

评分：5=必须掌握，4=很重要，3=熟练更佳，2=了解即可，1=加分项  
使用建议：回答时遵循“是什么→为什么→怎么做→关键细节→风险/案例”结构，保持条目化与可下钻。

## 1. Java 语言与核心 API
- 集合框架（HashMap/ConcurrentHashMap/CopyOnWrite）[5]  
  说明：掌握底层结构（数组+链表/树、分段消失后 CAS + 局部锁、写时复制数组）与使用场景（读多写少、并发统计、避免扩容抖动）。常见误区：错误使用 LinkedList、忽略初始容量导致频繁 resize。  
- 异常体系（checked/unchecked、包装与语义）[4]  
  说明：区分可恢复 vs 编程错误；包装保持 cause；只在边界 log 一次；避免异常做流程控制，关注性能与可读性。  
- I/O 与 NIO/NIO.2（Channel、Buffer、Selector、零拷贝）[4]  
  说明：理解阻塞 vs 非阻塞资源占用差别；Selector 管理大并发连接；零拷贝 (transferTo/sendfile/mmap) 降低 CPU 拷贝；Buffer 状态流转 flip/clear/compact 常见 Bug。  
- 函数式与 Stream（惰性执行、短路、并行流陷阱）[4]  
  说明：中间操作构建描述、终止操作触发；并行流仅适合无共享、CPU 密集、大数据；避免在热路径滥用复杂链和装箱。  
- 序列化与 JSON（Jackson 性能与安全、兼容策略）[3]  
  说明：统一 ObjectMapper、禁用默认多态、字段演进保持向后兼容；避免 Java 原生序列化（性能与安全风险）。  
- 日期时间 API（java.time 语义与时区）[3]  
  说明：内部统一 Instant/UTC；展示转换 ZonedDateTime；注意 DST 跳秒与 LocalDateTime 不具绝对性；测试注入 Clock。

## 2. 并发与多线程
- JMM 与可见性/有序性（happens-before、volatile）[5]  
  说明：锁释放→获取、volatile 写→读、线程启动/终止保证顺序；volatile 不保证复合操作原子性。  
- 锁与同步（synchronized、ReentrantLock、AQS、StampedLock）[5]  
  说明：了解锁升级路径、AQS 队列、公平 vs 非公平取舍；StampedLock 乐观读失败回退策略。  
- 线程池（参数、队列、拒绝策略、监控）[5]  
  说明：core/max/queue/keepAlive；拒绝策略与降级结合；监控队列长度、任务耗时、饱和告警；避免巨大队列隐藏压力。  
- 原子类与 CAS、自旋与退避、伪共享 [4]  
  说明：CAS 失败重试 + Backoff；LongAdder 分桶；@Contended 解决伪共享；统计类写多读少优先。  
- 并发容器（ConcurrentHashMap、BlockingQueue、LongAdder）[4]  
  说明：协同扩容、链表树化阈值；队列选型（ArrayBlockingQueue vs LinkedBlockingQueue vs SynchronousQueue）。  
- 任务编排（CompletableFuture、ForkJoinPool）[4]  
  说明：组合 thenCompose/anyOf；避免阻塞公共 ForkJoinPool；自定义池隔离 IO 与 CPU。

## 3. JVM 与性能
- 内存结构与对象布局（堆/栈/元空间、TLAB、逃逸分析）[5]  
  说明：TLAB 减少分配锁竞争；逃逸 → 标量替换与栈上分配；对象头 Mark Word 锁状态变化。  
- GC 收集器（G1/ZGC/Shenandoah 原理）[5]  
  说明：G1 Region + SATB；ZGC 并发重定位 + 彩色指针；调优关注暂停、峰值堆占用、晋升失败。  
- 类加载与模块化（委派、Isolated、SPI）[4]  
  说明：双亲委派防止核心类被替换；上下文 ClassLoader 用于服务发现；热替换与内存泄漏风险。  
- JIT/逃逸/内联与性能分析路径 [4]  
  说明：热点探测→内联→去虚拟化→逃逸分析；性能诊断：指标→JFR→火焰图→源码。  
- 诊断工具（jcmd/jmap/jstack/jfr、async-profiler）[5]  
  说明：组合使用线程栈、堆快照、CPU/事件采样；生产优先低入侵 (JFR)。

## 4. Spring 生态
- Bean 生命周期与循环依赖（三级缓存、早期引用）[5]  
  说明：单例提前暴露解决 setter 注入循环；构造注入减少循环风险。  
- AOP 代理与事务（JDK/CGLIB、传播属性）[4]  
  说明：自调用事务失效；传播 REQUIRED vs REQUIRES_NEW；回滚条件与异常类型。  
- 自动装配原理（条件、Starter、配置优先级）[5]  
  说明：@Conditional 与 Environment 决策；覆盖顺序：命令行 > 环境 > 配置文件 > 默认。  
- WebMVC/WebFlux 请求链路与差异 [4]  
  说明：同步与响应式背压模型取舍；线程模型与阻塞风险。  
- 声明式事务最佳实践 [5]  
  说明：明确边界、短事务、乐观锁与版本字段；避免大批量长持锁。  
- Actuator / 配置管理 [4]  
  说明：健康检查分组、动态属性刷新、敏感端点安全控制。

## 5. 数据访问与数据库
- SQL 优化与执行计划 [5]  
  说明：索引前导列选择性、覆盖索引减少回表；避免函数及隐式类型转换。  
- MySQL MVCC/隔离/锁 [5]  
  说明：快照读 vs 当前读；间隙锁造成阻塞；死锁检测与最小行锁原则。  
- 连接池与事务边界 [4]  
  说明：maxLifetime 匹配数据库超时；泄漏检测；事务尽量覆盖最小逻辑。  
- ORM 机制（缓存/N+1/批量）[4]  
  说明：延迟加载产生 N+1；fetch join/EntityGraph 改善；批量写需 flush 控制。  
- MyBatis 动态 SQL/插件 [4]  
  说明：XML/注解结合；分页插件注意 count 性能；自定义拦截器风险。  
- 分库分表与一致性 [4]  
  说明：路由键规划；跨分片聚合与冗余字段；最终一致 Outbox + 重放。

## 6. 缓存与中间件
- Redis 数据结构与应用模式 [5]  
  说明：选择结构匹配访问模式；SortedSet 排行、Bitmap 标志位统计、HyperLogLog 近似计数。  
- 持久化与 HA（RDB/AOF、哨兵、Cluster）[4]  
  说明：AOF 重写与膨胀；主故障判定与脑裂风险。  
- 缓存策略（穿透/击穿/雪崩/双写）[5]  
  说明：布隆过滤防穿透；热点互斥锁预加载；随机过期防批量失效。  
- Kafka 分区/副本/ISR/消息语义 [5]  
  说明：生产 ACK、幂等 Producer、事务性保证与消费位移管理。  
- Elasticsearch 基础（倒排/分片/聚合）[3]  
  说明：映射类型与分词、刷新与近实时、查询与过滤区分。

## 7. 分布式与微服务
- CAP 与一致性取舍 [5]  
  说明：多数业务选 AP + 业务补偿；强一致代价高。  
- 注册发现与配置中心 [4]  
  说明：健康检查与续租；推 vs 拉变更。  
- 网关与流控/熔断/重试 [5]  
  说明：超时与重试风暴控制；熔断半开恢复策略。  
- 分布式事务模式（TCC/Saga/Outbox）[4]  
  说明：补偿幂等、失败反向操作、消息最终送达。  
- ID 生成与时钟回拨 [4]  
  说明：Snowflake 机器号与回拨检测；时间漂移保护。  
- 可观测性（日志/指标/Trace/OpenTelemetry）[5]  
  说明：TraceId 贯穿；RED/USE 模型；采样策略与成本平衡。  
- API 版本治理与灰度 [4]  
  说明：向后兼容，弃用标记，分阶段移除；灰度指标回滚触发。

## 8. 系统设计与高可用
- 高并发架构（读写分离/异步/削峰/背压）[5]  
  说明：队列平滑突发、限流保护下游、降级与幂等保障。  
- 缓存与 DB 一致性 + 重试/幂等 [5]  
  说明：写策略（旁路/双写/延迟双删）与幂等表；重复提交防重放。  
- 故障域与副本选主 [4]  
  说明：多 AZ 分布；快速故障探测与自动切换。  
- 分片与路由、一致性哈希 [4]  
  说明：减节点迁移成本；虚拟节点均衡。  
- 事件驱动/CQRS/溯源 [3]  
  说明：审计与重放优点 vs 存储与复杂度成本。

## 9. 安全
- OAuth2/OIDC/JWT [4]  
  说明：授权码流与刷新；JWT 短期有效 + 黑名单/版本字段。  
- OWASP Top10 / CORS/CSRF/XSS/SQL 注入 [4]  
  说明：输入验证、输出编码、SameSite、参数化查询。  
- TLS/mTLS 与密钥/机密管理 [3]  
  说明：证书信任链、自动轮换、最小权限访问。  
- 审计与合规（权限最小化、日志脱敏）[3]  
  说明：记录谁做了什么及追踪链路；隐私字段掩码。

## 10. 测试与质量保障
- 单元测试（AAA、参数化、断言策略）[5]  
  说明：业务断言优于调用次数；边界与异常覆盖。  
- 集成 & E2E（Testcontainers、WireMock）[4]  
  说明：真实依赖隔离；E2E 控制数量与关键路径。  
- 合约测试（Pact）[3]  
  说明：消费者驱动契约防破坏性变更。  
- 性能与容量（JMH/JMeter、p95/p99）[4]  
  说明：基线对比回归；吞吐与拐点识别。  
- 静态检查与规范门禁 [3]  
  说明：分级阻断 vs 建议；减少假阳性。  
- CI/CD 增量回归与质量门 [4]  
  说明：差异覆盖率、CVE 阈值、失败自动阻断。

## 11. 运行与运维（DevOps/SRE）
- 容器化（多阶段、最小镜像、非 root、SBOM/签名）[4]  
  说明：层缓存顺序、删除文件不缩小旧层、供应链安全。  
- Kubernetes（Deployment/StatefulSet/Service/Ingress/HPA/QoS/PDB）[4]  
  说明：调度：Requests/Limits 影响 QoS；探针配置避免重启风暴。  
- 配置与密钥管理（ConfigMap/Secret/Vault）[3]  
  说明：版本化与轮换；避免 bake secrets。  
- 监控与 SLO（指标/日志/Trace、错误预算）[4]  
  说明：RED/USE、自动回滚阈值、预算耗尽暂停发布。  
- Linux/网络排障（FD、TIME_WAIT、拥塞/延迟）[3]  
  说明：top + perf + ss + lsof 组合路径；连接泄漏与端口耗尽预警。

## 12. 算法与数据结构
- 复杂度与常用结构 [3]  
  说明：选择合适容器与索引结构；空间换时间策略。  
- 树与图基础 [3]  
  说明：遍历/最短路径/并查集聚类。  
- 工程常用（布隆、LRU/LFU、跳表、一致性哈希）[4]  
  说明：布隆误判概率公式；跳表有序 + 并发；缓存淘汰策略命中率影响。

## 13. 工程实践与软技能
- 设计原则与模式（SOLID、策略/模板/工厂/观察者）[4]  
  说明：低耦合、单一职责、易测试；场景驱动选型。  
- 文档与 ADR、代码评审要点 [3]  
  说明：记录决策与权衡；评审关注边界/并发/异常。  
- 故障演练与复盘（5 Whys、无责）[3]  
  说明：提炼可执行行动项与跟踪闭环。  
- 需求澄清与技术取舍 [3]  
  说明：成本/价值/风险量化；避免过度设计。

## 14. 计算机基础（操作系统 / Linux）
- CPU 缓存一致性 / 内存屏障与 JMM 映射 [5]  
  说明：MESI、写回/失效、volatile → 屏障语义。  
- 线程/调度/CFS/上下文切换成本 [5]  
  说明：过度线程影响调度与缓存命中；绑定阻塞导致池饱和。  
- 虚拟内存/TLB/缺页/mmap [4]  
  说明：PageCache 利用；mmap SIGBUS 风险。  
- I/O 与零拷贝（sendfile/splice）[4]  
  说明：减少用户态复制与上下文切换。  
- 调优与排障工具链 [4]  
  说明：vmstat/iostat/top/perf/strace 联合分析瓶颈。  
  说明：隔离与配额防止单租户耗尽。

## 15. 计算机网络
- TCP 协议（握手/挥手、序列号、重传、拥塞控制）[5]  
  说明：CUBIC、慢启动、窗口滑动、Nagle 与延迟 ACK 影响小包延迟。  
- HTTP 演进（1.1 队头阻塞 → 2 多路复用 → 3 QUIC）[4]  
  说明：Header 压缩 HPACK/QPACK；连接迁移与 0-RTT。  
- TLS 握手与前向安全 [4]  
  说明：ECDHE 实现前向保密；Session Resumption 降低延迟。  
- 负载均衡（四层 vs 七层、一致性哈希）[4]  
  说明：协议可见性与调度策略；健康检查与权重。  
- 排障方法（抓包、连接状态、TIME_WAIT/CLOSE_WAIT）[4]  
  说明：高 TIME_WAIT：大量短连接；CLOSE_WAIT：应用未关闭 socket。

---

### 高频速记示例
- HashMap 树化：链表 ≥8 且容量 ≥64 → 红黑树，降低碰撞退化。  
- 并发重试风暴：缺少指数退避与区分可恢复错误。  
- 缓存雪崩防护：随机过期 + 预热 + 限流 + 降级。  
- 事务失效：自调用绕过代理 / 捕获异常未抛出 / 未启用事务管理。  
- 镜像瘦身：多阶段 + jlink + 删除构建缓存 + distroless + 非 root。  
- GC 调优路径：暂停目标→堆分配速率→晋升失败→Region/分代比例调整。  
- 线程池风险：队列过大隐藏延迟；核心线程过少吞吐不足；阻塞任务占满。  

### 面试回答骨架
1. 概念与边界界定（避免抽象泛化）。  
2. 原理与关键数据结构/算法（说明为何设计如此）。  
3. 实践场景与典型参数（给可操作细节）。  
4. 常见陷阱与后果（展示经验）。  
5. 优化案例或度量数据（量化结果）。  

### 学习与提升建议
- 源码优先：ConcurrentHashMap、ForkJoinPool、G1、Spring BeanFactory。  
- 基准实验：JMH 测试集合扩容、Stream vs for、序列化延迟。  
- 故障演练：注入延迟/断链/资源耗尽验证降级熔断。  
- 质量左移：契约测试 + 变异测试 + 指标断言纳入 CI。  
- SRE 实践：建立 SLO/错误预算与灰度自动回滚流程。  

(完)